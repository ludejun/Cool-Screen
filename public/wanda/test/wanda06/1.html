<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>02</title>
<script type="text/javascript" src="../../js/jquery.min.js"></script>
<style type="text/css">
html, body {
	overflow: hidden;
}
.bg{
	position: absolute;
	left: 0px;
	top: 0px;
	bottom: 0px;
	right: 0px;
	background: #000 url(image/bg3.jpg) left top no-repeat;
	background-size: 100%;
}
@keyframes scan
{
	0% {top: 1080px;}
	7% {top: -1080px;}
	100% {top: -1080px;}
}

.scan-bar {
	display: block;
	width: 100%;
	height: 1080px;
	z-index: 50;
	background: url(../../img/scan.png) no-repeat;
	position: absolute;
	top: 1080px;
	left: 0;

	-webkit-animation: scan 60s;
	-o-animation: scan 60s;
	animation: scan 60s;
	animation-timing-function: ease-in-out;
	animation-iteration-count: infinite;
}


#logos{
	width: 90%;
	height: 70%;

	/* 调整宽度后，margin-left 应为总宽度的 -49.444％ */
	/*margin-left: -494px;*/
	/*margin-top: -160px;*/


	/*position: absolute;*/
	/*left: 50%;*/
	/*top: 50%;*/

	margin: 0 auto;
	margin-top: 13%;

	overflow: hidden;

}

#logos > .cell{
	width: 16.66%;
	height: 25%;
	float: left;
	background: transparent url(image/cell-bg.png) center top no-repeat;
	background-size: 93.33% 90%;
	overflow: hidden;
	opacity: 0.2;
	transition: opacity 0.5s;
	-webkit-transition: opacity 0.5s;
	-moz-transition: opacity 0.5s;
}

#logos > .cell > div{
	width: 93.33%;
	height: 90%;
	background: transparent url(image/logos2.png) center top no-repeat;
	background-size: 635.7143% 433.3333%;
	margin: 0 auto;
}
.logo {
	height: 77px;
	width: 297px;
	background: url(../../img/logo3.png) no-repeat;
	color: transparent;
	text-indent: 86px;
	float: right;
	margin: 65px 70px 0 0;
}
#logos > .cell.active{
	opacity: 1;
	/*background-image: url(image/cell-bg-active.png);*/
}

#logos > .cell.active > div{
	background-image: url(image/logos.png);
}

</style>
</head>
<body>
<div class="bg">
	<div class="logo">万达商业年会</div>
	<div id="logos">
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>

		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>

		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>

		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
		<div class="cell"><div></div></div>
	</div>
</div>

<div class="scan-bar"></div>

<script type="text/javascript">

var config = [20, 33.3333, 6, 4];
var demoDelay = 1000;
var C = 3;

$('.cell > div').each(function(idx, dom){
	var x = idx % config[2], y = Math.floor(idx / config[2]);
	$(dom).css({
		'background-position': (x * config[0] - 0) + '% ' + (y * config[1]) + '%'
	})
});

function randomData(callback){
	var count = config[2] * config[3];
	var c = Math.ceil(count * Math.random() / 6) + 3;
	c = C;
	var arr = [];
	while(c > 0){
		var idx = Math.floor(count * Math.random());
		if(arr.indexOf(idx) > -1){
			continue;
		} else {
			c--;
			arr.push(idx);
		}
	}
	callback(arr);
	setTimeout(function(){
		randomData(callback);
	}, demoDelay);
}
randomData(function(data){
	$('.cell').removeClass('active').each(function(idx, dom){
		if(data.indexOf(idx) > -1){
			$(dom).addClass('active');
		}
	})
});



</script>


</body>
</html>